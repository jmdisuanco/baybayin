{"version":3,"sources":["baybayin.js"],"names":["baybayin","independentVowels","a","i","u","e","o","consonants","k","g","ng","t","d","r","n","p","b","m","y","l","w","s","h","allowed","punctuationMarks","comma","period","dependentVowels","virama","vowels","body","curr","includes","baybay","babaybayin","toLowerCase","split","lastChar","length","binaybay","reduce","acc","prevChar","slice","prevOriginal","substring"],"mappings":";AA8JeA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA9Jf,IAAMC,EAAoB,CACxBC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAGCC,EAAa,CACjBC,EADiB,IAEjBC,EAFiB,IAGjBC,GAAI,IACJC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAZiB,IAajBC,EAAG,IACHC,EAAG,IACHC,EAAG,KAICC,EAAU,CACd,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAIIC,EAAmB,CACvBC,MAAO,IACPC,OAAQ,KAGJC,EAAkB,CACtBxB,EAAG,IACHC,EAAG,IACHC,EAAG,IACHC,EAAG,KAICsB,EAAS,IACTC,EAAS,CAAC,IAAK,IAAK,IAAK,IAAK,KAE9BC,EAAO,SAACC,GACR,OAACF,EAAOG,SAASD,GAGN,MAATA,EAAqB,GAClBJ,EAAgBI,GAHhBR,EAAQS,SAASD,GAAQxB,EAAWwB,GAAQ,IAOjD/B,EAAW,SAAXA,EAAYiC,GACZA,GAAW,KAAXA,GAA8B,OAAbjC,EACnB,MAAO,GACHkC,IAAAA,EAAaD,EAAOE,cAAcC,MAAM,IACxCC,EAAWH,EAAWI,OAAS,EAyE9BC,OAxEUL,EAAWM,OAAO,SAACC,EAAKV,EAAM5B,GACvCuC,IAAAA,EAAWD,EAAIE,OAAO,GACtBC,EAAeV,EAAW/B,EAAI,GAoE7BsC,OAlEG,IAANtC,EACW,MAAT4B,GAAwB,MAARU,EAClBA,EAAMlC,EAAU,IAEhBkC,EAAMZ,EAAOG,SAASS,GAClBxC,EAAkBwC,GAClBlB,EAAQS,SAASS,GACjBlC,EAAWkC,GACX,GACJA,GAAOZ,EAAOG,SAASY,GACnBf,EAAOG,SAASD,GACd9B,EAAkB8B,GAClBD,EAAKC,GACNF,EAAOG,SAASD,GAEjBD,EAAKC,GADLH,EAASE,EAAKC,IAGE,MAAbW,GACTD,EAAII,UAAU,EAAGJ,EAAIH,OAAS,GAC9BG,GAAOZ,EAAOG,SAASD,GACnB9B,EAAkB8B,GAClBR,EAAQS,SAASD,GACjBxB,EAAWwB,GACX,IAEkB,MAAbW,GAA6B,MAATX,EAC7BU,EAAMA,EAAII,UAAU,EAAGJ,EAAIH,OAAS,GAAK/B,EAAU,GAElDsB,EAAOG,SAASD,IAChBF,EAAOG,SAASY,KACjBrB,EAAQS,SAASD,IACR,MAATA,GACS,MAATA,EAKSF,EAAOG,SAASY,IAAiBf,EAAOG,SAASD,GAC1DU,GAAOxC,EAAkB8B,IAEzBU,QAA6B,IAAfX,EAAKC,GAAwB,GAAKD,EAAKC,GACrDU,QACmC,IAA1Bd,EAAgBI,GACnB,GACAJ,EAAgBI,KATtBU,GAAOb,EACPa,GAAOX,EAAKC,IAWD,MAATA,IACGF,EAAOG,SAASY,KAAeH,GAAOb,GAC3Ca,GAAOjB,EAAiBC,OAEb,MAATM,IACGF,EAAOG,SAASY,KAAeH,GAAOb,GAC3Ca,GAAOjB,EAAiBE,SAGvBvB,IAAMkC,IAAaR,EAAOG,SAASD,IAC1B,MAATA,IAAiBF,EAAOG,SAASD,IAA0B,MAAjBa,IAE9B,MAATb,GAAyB,MAATA,GAAyB,MAATA,IAClCU,GAAOb,GAGE,MAATG,IACFU,GAAO,KAEFA,KAKIzC,EAAAA,EAAAA,QAAAA,QAAAA","file":"baybayin.js","sourceRoot":"../src","sourcesContent":["const independentVowels = {\n  a: '\\u1700',\n  i: '\\u1701',\n  u: '\\u1702',\n  e: '\\u1701',\n  o: '\\u1702',\n}\n\nconst consonants = {\n  k: `\\u1703`,\n  g: `\\u1704`,\n  ng: '\\u1705',\n  t: '\\u1706',\n  d: '\\u1707',\n  r: '\\u1707', // unicode ra still pending '/u170D'\n  n: '\\u1708',\n  p: '\\u1709',\n  b: '\\u170A',\n  m: '\\u170B',\n  y: '\\u170C',\n  l: `\\u170E`,\n  w: '\\u170F',\n  s: '\\u1710',\n  h: '\\u1711',\n  //j: '\\u1707\\u170C', // made up\n}\n\nconst allowed = [\n  'a',\n  'e',\n  'i',\n  'o',\n  'u',\n  'k',\n  'g',\n  'n',\n  't',\n  'd',\n  'r',\n  'n',\n  'p',\n  'b',\n  'm',\n  'y',\n  'l',\n  'w',\n  's',\n  'h',\n  '.',\n  ',',\n  //'j',\n]\n\nconst punctuationMarks = {\n  comma: '\\u1735',\n  period: '\\u1736',\n}\n\nconst dependentVowels = {\n  i: '\\u1712',\n  u: '\\u1713',\n  e: '\\u1712',\n  o: '\\u1713',\n}\n\n// virama\nconst virama = '\\u1714'\nconst vowels = ['a', 'e', 'i', 'o', 'u']\n\nconst body = (curr) => {\n  if (!vowels.includes(curr)) {\n    return allowed.includes(curr) ? consonants[curr] : ''\n  } else {\n    if (curr === 'a') return ''\n    return dependentVowels[curr]\n  }\n}\n\nconst baybayin = (baybay) => {\n  if (baybay === '' || baybayin === null || typeof baybayin === 'undefined')\n    return ''\n  const babaybayin = baybay.toLowerCase().split('')\n  const lastChar = babaybayin.length - 1\n  const binaybay = babaybayin.reduce((acc, curr, i) => {\n    const prevChar = acc.slice(-1)\n    const prevOriginal = babaybayin[i - 1]\n\n    if (i === 1) {\n      if (curr === 'g' || acc === 'ᜈ') {\n        acc = consonants['ng']\n      } else {\n        acc = vowels.includes(acc)\n          ? independentVowels[acc]\n          : allowed.includes(acc)\n          ? consonants[acc]\n          : ''\n        acc += vowels.includes(prevOriginal)\n          ? vowels.includes(curr)\n            ? independentVowels[curr]\n            : body(curr)\n          : !vowels.includes(curr)\n          ? virama + body(curr)\n          : body(curr)\n      }\n    } else if (prevChar === ' ') {\n      acc.substring(0, acc.length - 1)\n      acc += vowels.includes(curr)\n        ? independentVowels[curr]\n        : allowed.includes(curr)\n        ? consonants[curr]\n        : ''\n      // acc += body(curr)\n    } else if (prevChar === 'ᜈ' && curr === 'g') {\n      acc = acc.substring(0, acc.length - 1) + consonants['ng']\n    } else if (\n      !vowels.includes(curr) &&\n      !vowels.includes(prevOriginal) &&\n      allowed.includes(curr) &&\n      curr !== ',' &&\n      curr !== '.'\n    ) {\n      //put virama on previous character if previous and current character are both consonants\n      acc += virama\n      acc += body(curr)\n    } else if (vowels.includes(prevOriginal) && vowels.includes(curr)) {\n      acc += independentVowels[curr]\n    } else {\n      acc += typeof body(curr) === 'undefined' ? '' : body(curr)\n      acc +=\n        typeof dependentVowels[curr] === 'undefined'\n          ? ''\n          : dependentVowels[curr]\n    }\n\n    if (curr === ',') {\n      if (!vowels.includes(prevOriginal)) acc += virama\n      acc += punctuationMarks.comma\n    }\n    if (curr === '.') {\n      if (!vowels.includes(prevOriginal)) acc += virama\n      acc += punctuationMarks.period\n    }\n    if (\n      (i === lastChar && !vowels.includes(curr)) ||\n      (curr === ' ' && !vowels.includes(curr) && prevOriginal !== ' ')\n    ) {\n      if (curr !== '.' && curr !== ',' && curr !== ' ') {\n        acc += virama\n      }\n    }\n    if (curr === ' ') {\n      acc += ' '\n    }\n    return acc\n  })\n  return binaybay\n}\n\nexport default baybayin\n"]}